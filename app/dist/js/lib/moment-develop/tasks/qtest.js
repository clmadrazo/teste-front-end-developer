module.exports=function(e){e.task.registerTask("qtest","run tests locally",function(){var t=this.async(),n=require("qunit");n.options.log.assertions=!1,n.options.log.tests=!1,n.options.log.summary=!1,n.options.log.testing=!1,n.options.maxBlockDuration=12e4;var r;e.option("only")!=null?r=e.file.expand.apply(null,e.option("only").split(",").map(function(e){return e==="moment"?"build/umd/test/moment/*.js":e==="locale"?"build/umd/test/locale/*.js":"build/umd/test/"+e+".js"})):r=e.file.expand("build/umd/test/moment/*.js","build/umd/test/locale/*.js"),n.run({code:"build/umd/moment.js",tests:r},function(e,n){if(e){console.log("woot",e,n),t(e);return}e=null,n.failed!==0&&(e=new Error(n.failed+" tests failed")),t(e)})})};