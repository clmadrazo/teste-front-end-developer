define(["backbone","doT","text!templatesFolder/header/buscaPedido.html","models/task/taskModel"],function(e,t,n,r){var i=e.View.extend({buscaPedidoTemplate:t.template(n),model:new r,notification_wait:function(){var e=new PNotify({text:"Por favor aguarde...",type:"info",icon:"fa fa-spinner fa-pulse fa-fw",hide:!1,buttons:{closer:!1,sticker:!1}});return $("body").addClass("window-disable"),e},notification_done:function(e){var t={title:"Feito!",type:"success",text:"",hide:!0,buttons:{closer:!0,sticker:!0},icon:"fa fa-check"};$("body").removeClass("window-disable"),e.update(t)},initialize:function(e){_.bindAll(this,"beforeRender","render","afterRender"),obj=this,_this=this,that=this,this.render=_.wrap(this.render,function(e){return this.beforeRender(),e(arguments),this.afterRender(),this})},beforeRender:function(){},afterRender:function(){var e=this;$("a.buscaPedido").on("click",function(){$(".modal-body").empty().append(e.buscaPedidoTemplate({}));var t=e;$("a.busca-pedido").on("click",function(e){var n=$(".pedido").val();n==""?(new PNotify({title:"Error",text:"Por favor, indique o n√∫mero do pedido",type:"error",hide:!0,buttons:{closer:!0,sticker:!0},icon:"fa fa-exclamation-circle"}),$(".pedido").focus()):(t.notification_wait(),t.model.buscaPedido(n))})})},fetch:function(t){return options=t,options.beforeSend=function(e){e.setRequestHeader("Accept","application/json"),e.setRequestHeader("Content-Type","application/json")},e.Model.prototype.fetch.call(this,options)}});return i});